**消息队列**
- [定义](#定义)
- [使用](#使用)
  - [特点](#特点)

# 定义 #
消息队列是一种异步通信机制，生产者(Producer)发送消息，消息队列存储消息，消费者(Consumer)接收并处理消息

# 使用 #
## 特点 ##
```
使用场景
- 解耦
- 异步
- 削峰

模型
- 点对点  一条消息只能被一个消费者消费
- 发布/订阅  一条消息可以被多个消费者消费

可靠性
- 生产者  发送消息需要收到ack确认
- 消息队列  通过集群保存多副本
- 消费者  消息处理之后才回复ack 

幂等性
- 生产者
- 消费者
  业务控制

有序性

消息积压
- 增加消费者

kafka & rabbitmq
- kafka配置复杂，吞吐量大，rabbitmq配置简单，吞吐量小
- rabbitmq可灵活配置路由，kafka只能监控topic
- rabbitmq错误消息会重新入队，超时消息会进入死信队列
- kafka会保留历史消息，rabbitmq消费完即删除
```
