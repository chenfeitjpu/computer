# HTTP #

## 定义 ##
超文本传输协议

## 内容 ##
### 状态码 ###
  - 1xx 提示
  - 2xx 成功
    - 200 OK 正常
    - 204 No Content 没有body数据
    - 206 Partial Content 分段传输
  - 3xx 重定向
    - 301 Move Permanently 永久重定向 
    - 302 Found 临时重定向
    - 304 Not Modified 资源未修改
  - 4xx 客户端错误
    - 400 Bad Request 请求报文有误
    - 403 Forbidden 禁止访问
    - 404 Not Found 请求资源不存在
  - 5xx 服务端错误
    - 500 服务器错误 
    - 501 客户端请求的功能不支持
    - 502 服务器作为网关或代理，后端服务器发生了错误
    - 503 服务器忙，暂时无法响应

### 常见字段 ###
  - Host 服务器域名
  - Connection 使用持久连接
  - Accept 客户端接受的数据格式
  - Accept-Encoding 客户端接受的数据压缩方式
  - Content-Length 服务器返回的数据长度
  - Content-Type 服务器返回的数据格式
  - Content-Encoding 服务器返回数据的压缩方式

### 请求方法 ###
  - GET 从服务器获取资源 安全且幂等
  - POST 向服务器提交数据 不安全且不幂等

### 特性 ###
  - 优点
    - 简单 
    - 易扩展
    - 跨平台
  - 缺点 
    - 无状态，通过Cookie解决
    - 明文传输
    - 不安全
      - 明文传输，内容可能会被窃听
      - 不验证通信身份，可能会被冒充
      - 无法验证报文完整性，内容可能会被篡改

### HTTPS ###
特点  
  - 混合加密实现机密性，解决了窃听风险
  - 摘要算法实现完整性，解决了篡改风险
  - 将服务器公钥放入到数字证书，解决了冒充风险  

SSL/TLS通信流程
  - 客户端向服务器索要并验证公钥
  - 双方协商生成会话秘钥
  - 双方采用会话秘钥进行通信

SSL/TLS握手流程
  - 客户端发送ClientHello请求(SSL/TLS协议版本、随机数、密码套件列表)
  - 服务端发送ServerHello请求(SSL/TLS协议版本、随机数、密码套件列表、数字证书)
  - 客户端回应(随机数、加密算法改变通知、客户端握手结束通知)
  - 服务的回应(加密算法改变通知、服务端握手结束通知)

秘钥交换算法
  - RSA
  - ECDHE

优化
  - 硬件优化
  - 软件优化
  - 会话复用
  - 协议优化
  - 证书优化

### 优化 ###
  - 不发请求
    - 使用客户端缓存
  - 减少请求
    - 减少重定向请求次数
    - 合并请求
    - 延迟发送请求
  - 减少HTTP响应数据大小   
    - 无损压缩
    - 有损压缩





## HTTP/0.9 ##
只有一个命令GET
服务器只能回应HTML格式的字符串
## HTTP/1.0 ##
除了GET命令，还引入了POST命令和HEAD命令
任何格式的内容都可以发送
## HTTP/1.1 ##
引入了持久连接，对于同一个域名，大多数浏览器允许同时建立6个持久连接。
引入了管道机制，在同一个TCP连接里面，客户端可以同时发送多个请求。
## SPDY协议 ##
## HTTP/2 ##
  - 二进制协议
  - 多工
  - 数据流
  - 头信息压缩
  - 服务器推送
  
