* [反转链表(206)](#反转链表206)
* [用队列实现栈(225)](#用队列实现栈225)
* [用栈实现队列(232)](#用栈实现队列232)
* [二叉搜索树的最近公共祖先(235)](#二叉搜索树的最近公共祖先235)
* [二叉树的最近公共祖先(236)](#二叉树的最近公共祖先236)
* [滑动窗口最大值(239)](#滑动窗口最大值239)
* [有效的字母异位词(242)](#有效的字母异位词242)

# 反转链表(206) #
```
/**
 * 把当前元素的指针指向前一个元素(从前向后遍历)
 */
function reverseList($head) {
    $pre = null;
    $cur = $head;
    while ($cur) {
        $tmp = $cur->next;
        $cur->next = $pre;
        $pre = $cur;
        $cur = $tmp;
    }
    return $pre;
}
```
```
/**
 * 把后一个元素的指针指向当前元素(从后向前遍历)
 */
function reverseList2($head) {
    if(!$head->next) return $head;
    $p = reverseList2($head->next);
    $head->next->next = $head;
    $head->next = null;
    return $p;
}
```
# 用队列实现栈(225) #
```
class Stack {

    private $in = [];

    private $out = [];

    public function push($value) {
        if($this->in) {
            array_push($this->in, $value);
        } else {
            array_push($this->out, $value);
        }
    }

    public function pop() {
        if($this->in) {
            while (count($this->in) > 1) {
                array_push($this->out, array_shift($this->in));
            }
            return array_shift($this->in);
        } else {
            while (count($this->out) > 1) {
                array_push($this->in, array_shift($this->out));
            }
            return array_shift($this->out);
        }
    }

    public function top() {
        $top = $this->pop();
        if($this->in) {
            array_push($this->in, $top);
        } else {
            array_push($this->out, $top);
        }
        return $top;
    }

    public function empty() {
        return !$this->in && !$this->out;
    }

}
```
# 用栈实现队列(232) #
```
class MyQueue {

    private $in = [];

    private $out = [];

    public function push($value) {
        while($this->out) {
            array_push($this->in, array_pop($this->out));
        }
        array_push($this->in, $value);
    }

    public function pop() {
        while($this->in) {
            array_push($this->out, array_pop($this->in));
        }
        return array_pop($this->out);
    }

    public function peek() {
        while($this->in) {
            array_push($this->out, array_pop($this->in));
        }
        return $this->out[count($this->out)-1];
    }

    public function empty() {
        return !$this->in && !$this->out;
    }

}
```
# 二叉搜索树的最近公共祖先(235) #
```
function lowestCommonAncestor($root, $p, $q) {
    while (($root->val - $p->val) * ($root->val - $q->val) > 0) {
        $root = lowestCommonAncestor($root->val > $p->val ? $root->left : $root->right , $p, $q);
    }
    return $root;
}
```
# 二叉树的最近公共祖先(236) #
```
function lowestCommonAncestor($root, $p, $q) {
    if($root == $p || $root == $q || !$root) return $root;
    $left = lowestCommonAncestor($root->left, $p, $q);
    $right = lowestCommonAncestor($root->right, $p, $q);
    if(!$left && !$right) {
        return null;
    } else if($left && !$right) {
        return $left;
    } else if(!$left && $right) {
        return $right;
    }
    return $root;
}
```
# 滑动窗口最大值(239) #
```
function slidingWindow($nums, $k) {
    $len = count($nums);
    if(!$len) return [];
    $window = $res = [];
    for($i = 0; $i < $len; $i++) {
        while($i >= $k && $window && $window[0] <= $i - $k) {
            array_shift($window);
        }
        while($window && $nums[$window[count($window)-1]] <= $nums[$i]) {
            array_pop($window);
        }
        array_push($window, $i);
        if($i >= $k-1) {
            $res[] = $nums[$window[0]];
        }
    }
    if($len < $k) {
        $res[] = $nums[$window[0]];
    }
    return $res;
}
```
# 有效的字母异位词(242) #
```
function isAnagram($s, $t) {
    $slen = strlen($s);
    $tlen = strlen($t);
    if($slen != $tlen) return false;
    $map = [];
    for($i = 0; $i < $slen; $i++) {
        isset($map[$s[$i]]) ? $map[$s[$i]]++ : $map[$s[$i]] = 1;
        isset($map[$t[$i]]) ? $map[$t[$i]]-- : $map[$t[$i]] = -1;
    }
    foreach ($map as $k => $v) {
        if($v) {
            return false;
        }
    }
    return true;
}
```